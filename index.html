<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>Create avatar by letters - Kannan</title>
      <link href="./css/style.css" rel="stylesheet">
      <script src="./js/jquery.min.js"></script>
      <script>
      	 // Ajax call to generate letter avatar
         $(document).on('click', '#generateBtn', function () {	
         	// Get the text to generate avatar
         	var text = "Text="+$('#user_name').val();
         	$.ajax({
         		type: 'POST',
         		url:  "./generate.php",
         		data: text,
         		dataType:"json",
         		success: function(html) {
         			obj = JSON.parse(JSON.stringify(html));
         			if(obj.status){
         				// Update image area with letter avatar
         				$("#imgArea>img").prop('src',obj.image);				
         			}
         		}
         	});		
         });
      </script>
   </head>
   <body>
      <div id="frame0">
         <h1>Generate avatar by Letters </h1>
         <p>Simple library by <a href="http://iamkannan.github.io">Kannan</a> </p>
      </div>
      <br>
      <div id="imgContainer">
         <form enctype="multipart/form-data" onsubmit="return false;" method="post" name="image_upload_form" id="image_upload_form">
            <div id="imgArea"><img src="./img/default.jpg"></div>
            <p>
               <label for="user_name">Name: </label>
               <input type="text" name="user_name" id="user_name" required="">
            </p>
            <p>
               <button name="generate" id="generateBtn">Generate</button>
            </p>
         </form>
         <span class="bottomBox">Avatar will be generated by first letter of each Word.</span>
      </div>
   </body>
</html>